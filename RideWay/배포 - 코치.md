# 배포

![image-20230203095331583](assets/image-20230203095331583.png)

![image-20230203095345642](assets/image-20230203095345642.png)

> 서울과 일산에 AWS가 이씀

![image-20230203095404112](assets/image-20230203095404112.png)

![image-20230203095413170](assets/image-20230203095413170.png)

![image-20230203095454527](assets/image-20230203095454527.png)



### UFW 방화벽![image-20230203095513551](assets/image-20230203095513551.png)

![image-20230203095519662](assets/image-20230203095519662.png)

![image-20230203095557641](assets/image-20230203095557641.png)

![image-20230203095642507](assets/image-20230203095642507.png)

![image-20230203095702451](assets/image-20230203095702451.png)

![image-20230203095735022](assets/image-20230203095735022.png)

![image-20230203095745285](assets/image-20230203095745285.png)

> 요청에 맞춰서 계속 프로세스를 만듦



![image-20230203095813283](assets/image-20230203095813283.png)

![image-20230203095827197](assets/image-20230203095827197.png)

![image-20230203095842157](assets/image-20230203095842157.png)

![image-20230203095851372](assets/image-20230203095851372.png)

![image-20230203095905555](assets/image-20230203095905555.png)

![image-20230203095913118](assets/image-20230203095913118.png)

![image-20230203095950324](assets/image-20230203095950324.png)

> 사용자의 요청에 따라 처리해줌

![image-20230203100011870](assets/image-20230203100011870.png)

> 클라이언트의 요청을 중간 웹서버에서 분배가 가능

![image-20230203100027514](assets/image-20230203100027514.png)

![image-20230203100042532](assets/image-20230203100042532.png)

![image-20230203100052325](assets/image-20230203100052325.png)

![image-20230203100112742](assets/image-20230203100112742.png)

![image-20230203100143461](assets/image-20230203100143461.png)

![image-20230203100202716](assets/image-20230203100202716.png)

![image-20230203100226059](assets/image-20230203100226059.png)

![image-20230203100302601](assets/image-20230203100302601.png)

![image-20230203100325557](assets/image-20230203100325557.png)

![image-20230203100334282](assets/image-20230203100334282.png)

> 도커 위에서 설정을 넣어서 진행함



---



### 동준 코치님

- Ubuntu로 배포 기초환경 구축하기

![image-20230203100532229](assets/image-20230203100532229.png)

- UFW Install & setting

![image-20230203100646989](assets/image-20230203100646989.png)

![image-20230203100717365](assets/image-20230203100717365.png)

![image-20230203100724552](assets/image-20230203100724552.png)

![image-20230203100743478](assets/image-20230203100743478.png)

![image-20230203100804569](assets/image-20230203100804569.png)

![image-20230203100820421](assets/image-20230203100820421.png)

![image-20230203100834214](assets/image-20230203100834214.png)

![image-20230203100906008](assets/image-20230203100906008.png)

![image-20230203100919929](assets/image-20230203100919929.png)

![image-20230203100939798](assets/image-20230203100939798.png)

![image-20230203101013068](assets/image-20230203101013068.png)

![image-20230203101019016](assets/image-20230203101019016.png)

![image-20230203101032235](assets/image-20230203101032235.png)

![image-20230203101055891](assets/image-20230203101055891.png)

![image-20230203101110206](assets/image-20230203101110206.png)

![image-20230203101131585](assets/image-20230203101131585.png)

![image-20230203101151316](assets/image-20230203101151316.png)

![image-20230203101205836](assets/image-20230203101205836.png)

![image-20230203101213803](assets/image-20230203101213803.png)

![image-20230203101228818](assets/image-20230203101228818.png)

![image-20230203101246065](assets/image-20230203101246065.png)

![image-20230203101258371](assets/image-20230203101258371.png)

![image-20230203101321339](assets/image-20230203101321339.png)

![image-20230203101359426](assets/image-20230203101359426.png)

![image-20230203101418544](assets/image-20230203101418544.png)

![image-20230203101431875](assets/image-20230203101431875.png)

![image-20230203101504055](assets/image-20230203101504055.png)

![image-20230203101512313](assets/image-20230203101512313.png)

![image-20230203101527736](assets/image-20230203101527736.png)

> 안에 인증키가 있어야 함

![image-20230203101543502](assets/image-20230203101543502.png)

![image-20230203101608138](assets/image-20230203101608138.png)

![image-20230203101630181](assets/image-20230203101630181.png)

![image-20230203101656019](assets/image-20230203101656019.png)

> 

![image-20230203101718170](assets/image-20230203101718170.png)

![image-20230203101748624](assets/image-20230203101748624.png)

![image-20230203102012424](assets/image-20230203102012424.png)

![image-20230203102025154](assets/image-20230203102025154.png)

> update 최신화된 페키지 불러옴, upgrade 최신화된 적용 업데이트

![image-20230203102106571](assets/image-20230203102106571.png)

![image-20230203102128855](assets/image-20230203102128855.png)

![image-20230203102200950](assets/image-20230203102200950.png)

![image-20230203102219760](assets/image-20230203102219760.png)

![image-20230203102249114](assets/image-20230203102249114.png)

> 포트 변경하기

![image-20230203102324779](assets/image-20230203102324779.png)

![image-20230203102338110](assets/image-20230203102338110.png)

![image-20230203102406490](assets/image-20230203102406490.png)

> 젠킨스 플러그인 설치하기

![image-20230203102421017](assets/image-20230203102421017.png)

![image-20230203102430113](assets/image-20230203102430113.png)

![image-20230203102537917](assets/image-20230203102537917.png)

![image-20230203102553124](assets/image-20230203102553124.png)

![image-20230203102606191](assets/image-20230203102606191.png)

![image-20230203102621779](assets/image-20230203102621779.png)

![image-20230203102648691](assets/image-20230203102648691.png)

![image-20230203102701499](assets/image-20230203102701499.png)

![image-20230203102709022](assets/image-20230203102709022.png)

![image-20230203102748083](assets/image-20230203102748083.png)

![image-20230203102807461](assets/image-20230203102807461.png)

![image-20230203102829567](assets/image-20230203102829567.png)

remote directory -> 실제 있는 폴더 적기

![image-20230203102854204](assets/image-20230203102854204.png)

![image-20230203102917959](assets/image-20230203102917959.png)

![image-20230203102939429](assets/image-20230203102939429.png)

![image-20230203103001466](assets/image-20230203103001466.png)

![image-20230203103014076](assets/image-20230203103014076.png)

![image-20230203103033854](assets/image-20230203103033854.png)

![image-20230203103103146](assets/image-20230203103103146.png)

![image-20230203103127373](assets/image-20230203103127373.png)

![image-20230203103138533](assets/image-20230203103138533.png)

![image-20230203103148361](assets/image-20230203103148361.png)

![image-20230203103207984](assets/image-20230203103207984.png)

![image-20230203103255273](assets/image-20230203103255273.png)

![image-20230203103316404](assets/image-20230203103316404.png)

> 권한을 부여하고 실행한다, bootJar plainjar를 생성하지 않음

![image-20230203103409073](assets/image-20230203103409073.png)

![image-20230203103425839](assets/image-20230203103425839.png)

![image-20230203103453135](assets/image-20230203103453135.png)

> nohup 젠킨스가 끊어져도 계속동작하는 명령어 

![image-20230203103541184](assets/image-20230203103541184.png)

![image-20230203103606880](assets/image-20230203103606880.png)

![image-20230203103634439](assets/image-20230203103634439.png)



# Docker로 배포하기

![image-20230203103913386](assets/image-20230203103913386.png)

> 가상 머신을 설치해서 앱을 띄운다, 한개의 OS이지만 컨테이너에 있어서 독립적으로 사용할 수 있다. 각 컨테이너가 커널을 공유해서 효율적으로 할 수 있음.

![image-20230203104147983](assets/image-20230203104147983.png)

![image-20230203104156093](assets/image-20230203104156093.png)

![image-20230203104259247](assets/image-20230203104259247.png)

> 다른 곳에서도 똑같은 환경에서 구동이 될 수 있게 된다.

![image-20230203104343364](assets/image-20230203104343364.png)

![image-20230203104409707](assets/image-20230203104409707.png)

> 사용자가 제어하지 않고 백그라운드에서 사용 (DinD) -> 보안 측면 문제 -> 컨테이너에 막강한 권한이 있어서, 이미지 캐쉬를 공유하지 않음

![image-20230203104610160](assets/image-20230203104610160.png)

![image-20230203104632048](assets/image-20230203104632048.png)

![image-20230203104642581](assets/image-20230203104642581.png)

![image-20230203104650421](assets/image-20230203104650421.png)

![image-20230203104714464](assets/image-20230203104714464.png)

> 도커에서 도커를 호출하기 위해 볼륨 설정

![image-20230203104740602](assets/image-20230203104740602.png)

![image-20230203104752154](assets/image-20230203104752154.png)

![image-20230203104758564](assets/image-20230203104758564.png)

![image-20230203104815951](assets/image-20230203104815951.png)

![image-20230203104833708](assets/image-20230203104833708.png)

![image-20230203104859509](assets/image-20230203104859509.png)

![image-20230203104930571](assets/image-20230203104930571.png)

# 쿠버네티스

![image-20230203105029667](assets/image-20230203105029667.png)

![image-20230203105044417](assets/image-20230203105044417.png)

![image-20230203105119607](assets/image-20230203105119607.png)

![image-20230203105147613](assets/image-20230203105147613.png)

![image-20230203105201860](assets/image-20230203105201860.png)

![image-20230203105207510](assets/image-20230203105207510.png)

![image-20230203105212671](assets/image-20230203105212671.png)

![image-20230203105219751](assets/image-20230203105219751.png)

![image-20230203105244086](assets/image-20230203105244086.png)

![image-20230203105405617](assets/image-20230203105405617.png)

![image-20230203105424360](assets/image-20230203105424360.png)

![image-20230203105444025](assets/image-20230203105444025.png)

![image-20230203105453667](assets/image-20230203105453667.png)

![image-20230203105511107](assets/image-20230203105511107.png)

![image-20230203105524405](assets/image-20230203105524405.png)

![image-20230203105537608](assets/image-20230203105537608.png)

![image-20230203105543553](assets/image-20230203105543553.png)

![image-20230203105552950](assets/image-20230203105552950.png)

![image-20230203105600879](assets/image-20230203105600879.png)

![image-20230203105608578](assets/image-20230203105608578.png)

![image-20230203105619397](assets/image-20230203105619397.png)

![image-20230203105634024](assets/image-20230203105634024.png)

![image-20230203105654508](assets/image-20230203105654508.png)

![image-20230203105709691](assets/image-20230203105709691.png)

![image-20230203105716736](assets/image-20230203105716736.png)

![image-20230203105740083](assets/image-20230203105740083.png)